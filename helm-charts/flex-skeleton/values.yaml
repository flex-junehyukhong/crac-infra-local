# flex-skeleton Helm Chart Values
# 이 파일은 다른 flex 애플리케이션에도 템플릿으로 사용 가능

replicaCount: 1

image:
  repository: localhost:5001/application
  tag: local
  pullPolicy: Always

service:
  type: NodePort
  port: 8080
  nodePort: 30001

# Spring Boot 설정
spring:
  profiles:
    active: k8s

# 데이터베이스 설정
database:
  host: mysql
  port: 3306
  name: crac_demo
  username: crac_user
  # password는 secret에서 관리
  poolMax: 10
  poolMin: 5

# flex 설정
flex:
  appName: flex-skeleton
  env: k8s

# hashids 설정 (secret에서 관리하는 것 권장)
hashids:
  salt: "k8s-local-salt-for-demo"
  seps: "cfhistuCFHISTU"
  minLength: 8
  alphabet: "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"

# KMS 설정
kms:
  cipher: "k8s-local-cipher-key"
  region: "ap-northeast-2"
  encrypted: false

# 로깅 설정
logging:
  levelRoot: INFO
  levelFlex: INFO

# 리소스 제한
resources:
  limits:
    cpu: 1000m
    memory: 1024Mi
  requests:
    cpu: 500m
    memory: 512Mi

# Health check 설정
healthCheck:
  enabled: true
  livenessProbe:
    path: /actuator/health/liveness
    initialDelaySeconds: 60
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
  readinessProbe:
    path: /actuator/health/readiness
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

# JPA 설정
jpa:
  ddlAuto: update
